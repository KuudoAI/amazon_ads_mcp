{"openapi":"3.0.1","info":{"title":"Amazon Ads API - AmazonAttribution","version":"3.0","description":"Isolated spec for AmazonAttribution"},"servers":[],"tags":[],"paths":{"/attribution/advertisers":{"get":{"description":"For sellers, an attribution profile has one associated advertiser. For vendors, an attribution profile may have more than one associated advertiser.","operationId":"getAdvertisersByProfile","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvertiserResponse"}}}}},"summary":"Gets a list of advertisers associated with an Amazon Attribution account.","tags":["Advertisers"]}},"/attribution/publishers":{"get":{"description":"Use the response to determine whether to use either the macroTags or nonMacroTemplateTags resource to get tags for a certain publisher.","operationId":"getPublishers","parameters":[],"responses":{"200":{"description":"Success.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublishersResponse"}}}}},"summary":"Gets a list of all available publishers.","tags":["Publishers"]}},"/attribution/report":{"post":{"operationId":"getAttributionTagsByCamp","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportRequestBody"}}},"required":true},"responses":{"200":{"description":"Successful operation.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportResponse"}}}},"400":{"description":"Invalid request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}},"403":{"description":"Forbidden. Request failed because user does not...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}},"500":{"description":"Internal Server Error. Something went wrong on ...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}}},"summary":"Gets an attribution report for a specified list of advertisers.","tags":["Reports"]}},"/attribution/tags/macroTag":{"get":{"description":"Third-party publishers, such as Google Ads, Facebook, Microsoft Ads, and Pinterest support tags that include macro parameters.","operationId":"getPublisherAttributionTagTemplate","parameters":[{"description":"A list of publisher identifiers for which to request tags.","explode":true,"in":"query","name":"publisherIds","required":true,"schema":{"items":{"type":"string"},"type":"array"},"style":"form"},{"description":"List of advertiser identifiers for which to request tags.\nIf no values are passed, all advertisers are returned.","explode":true,"in":"query","name":"advertiserIds","schema":{"items":{"format":"int64","type":"integer"},"type":"array"},"style":"form"}],"responses":{"200":{"description":"Successful operation.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttributionTagResponse"}}}},"400":{"description":"Invalid request, publisher not supported, or in...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}},"401":{"description":"Unauthorized. Request failed because user is no...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}},"403":{"description":"Forbidden. Request failed because user does not...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}},"429":{"description":"Too Many Requests. Request was rate-limited. Re...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}},"500":{"description":"Internal Server Error. Something went wrong on ...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}}},"summary":"Gets a list of attribution tags for third-party publisher campaigns that support macros.","tags":["Attribution Tags"]}},"/attribution/tags/nonMacroTemplateTag":{"get":{"description":"Some third-party publishers do not support tags that include macro parameters.","operationId":"getPublisherMacroAttributionTag","parameters":[{"description":"A list of publisher identifiers for which to request tags.","explode":true,"in":"query","name":"publisherIds","required":true,"schema":{"items":{"type":"string"},"type":"array"},"style":"form"},{"description":"List of advertiser identifiers for which to request tags.\nIf no values are passed, all advertisers are returned.","explode":true,"in":"query","name":"advertiserIds","schema":{"items":{"type":"string"},"type":"array"},"style":"form"}],"responses":{"200":{"description":"Successful operation.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttributionTagResponse"}}}},"400":{"description":"Invalid request, publisher not supported, or in...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}},"401":{"description":"Unauthorized. Request failed because user is no...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}},"403":{"description":"Forbidden. Request failed because user does not...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}},"429":{"description":"Too Many Requests. Request was rate-limited. Re...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}},"500":{"description":"Internal Server Error. Something went wrong on ...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaaSError"}}}}},"summary":"Gets a list of attribution tags for third-party publisher campaigns that do not support macros.","tags":["Attribution Tags"]}}},"components":{"schemas":{"attributionTagMap":{"additionalProperties":{"type":"string"},"description":"An object representing the association between a publisher identifier and an attribution tag.","type":"object"},"ReportEntry":{"description":"Report entry object in GetReport reports list.","properties":{"adGroupId":{"description":"An ad group external identifier. Applies to `PERFORMANCE` and `PRODUCTS` reportType.","type":"string"},"advertiserName":{"description":"Name of advertiser. Applies to `PERFORMANCE` and `PRODUCTS` reportType.","type":"string"},"brandName":{"description":"Name of the advertiser's brand. Applies only to `PRODUCTS` reportType.","type":"string"},"campaignId":{"description":"A campaign external identifier. Applies to `PERFORMANCE` and `PRODUCTS` reportType.","type":"string"},"creativeId":{"description":"A creative external identifier. Applies only to `PERFORMANCE` reportType","type":"string"},"date":{"description":"Date on which the events took place. Applies to `PERFORMANCE` and `PRODUCTS` reportType.","type":"string"},"marketplace":{"description":"The Amazon-owned site the product is sold on. Applies only to `PRODUCTS` reportType.","type":"string"},"productAsin":{"description":"A unique block of letters and/or numbers that identify all products sold on Amazon. Applies only to `PRODUCTS` reportType.","type":"string"},"productCategory":{"description":"A classification for the type of product being sold which determines its place in the Amazon retail catalog. Contains categories of products. Applies only to `PRODUCTS` reportType.","type":"string"},"productConversionType":{"description":"The conversion type describes whether the conversion happened on a promoted or a brand halo ASIN. Applies only to `PRODUCTS` reportType.","type":"string"},"productGroup":{"description":"A distinct product grouping distinguishing products like watches from video games from toys. Contains groups of products. Applies only to `PRODUCTS` reportType.","type":"string"},"productName":{"description":"The name of the product. Applies only to `PRODUCTS` reportType.","type":"string"},"productSubcategory":{"description":"A classification for the type of product being sold which determines its place in the Amazon retail catalog. Contains subcategories of products. Applies only to `PRODUCTS` reportType","type":"string"},"publisher":{"description":"The publisher name. Applies to `PERFORMANCE` and `PRODUCTS` reportType","type":"string"}},"type":"object"},"ReportRequestBody":{"description":"Report request body. \nTwo types of reports are available: Performance or Products - choose by including the `reportType` property. Performance report may be aggregated at any of three levels: campaign, ad group, or creative - choose by including the `groupBy` property. Products report is always aggregated at ad group level - when requesting a Products report, do not include the `groupBy` property or an error will occur.\n\nPagination is recommended - include the `count` and `cursorId` properties.\n\nPass a list of metrics to control which metrics appear in the response, or omit this list to receive all available metrics (except brb_bonus_amount).\n\nDimensions available within each report type and aggregation level:\n| reportType  | groupBy  | Dimensions|\n|-------------|-------------------|-----------|\n|PERFORMANCE|CREATIVE|campaignId, adgroupId, creativeid, publisher|\n|PERFORMANCE|ADGROUP|campaignId, adgroupId, publisher|\n|PERFORMANCE|CAMPAIGN|campaignId|\n|PRODUCTS|N/A|campaignId, adgroupId, publisher, productName, productGroup, productCategory, productSubcategory, brandName, productAsin, productConversionType|\nExample requests:\n```\n # PerformanceReportGroupedAtCampaignLevel\n{\n  \"reportType\": \"PERFORMANCE\",\n  \"endDate\": \"20220601\",\n  \"count\": 1000,\n  \"startDate\": \"20220525\",\n  \"groupBy\":\"CAMPAIGN\"\n}\n # ProductsReport \n{\n  \"reportType\": \"PRODUCTS\",\n  \"endDate\": \"20220601\",\n  \"count\": 1000,\n  \"startDate\": \"20220525\"\n}\n```","properties":{"advertiserIds":{"description":"One or more advertiser Ids to filter reporting by. If requesting reporting for multiple advertiser Ids, input via a comma-delimited list.","type":"string"},"count":{"description":"The number of entries to include in the report.","maximum":5000.0,"minimum":1,"type":"integer"},"cursorId":{"description":"The value of `cursorId` must be set to `null` without `\"\"`, or set to `\"\"` for the first request. For each following request, the value of `cursorId` from the previous response must be included in the current request. Note that for the cursorId values the `\"` character must be escaped with `\\`.","type":"string"},"endDate":{"description":"The end date for the report, form as \"YYYYMMDD\"","type":"string"},"groupBy":{"description":"For Performance report only - controls level of aggregation. Value can be `CAMPAIGN`, `ADGROUP`, or `CREATIVE`. Default is `CREATIVE`.","enum":["ADGROUP","CAMPAIGN","CREATIVE"],"type":"string"},"metrics":{"description":"A comma-delimited list of metrics to include in the report. In the report, each metric’s value reflects the events which took place on the row’s date; in other words, events are reported on the date they occurred, not on the date of the attributed click. Attribution is calculated using a 14-day last-click model. For more detail on attribution methodology, see the [Measurement](https://advertising.amazon.com/API/docs/en-us/amazon-attribution/how-to#measurement) section of the API guide. View the list of available metrics for each report type below.\"Promoted products\" refers to products associated with the campaign.\n|Metrics for reportType`PERFORMANCE`|\n|-------------------|\n\n|Metric  |Description|\n|--------|-----------|\n|Click-throughs|Ad clicks.|\n|attributedDetailPageViewsClicks14d|Ad click-attributed detail page views for promoted product.|\n|attributedAddToCartClicks14d|Ad click-attributed add to carts for promoted products.|\n|attributedPurchases14d|Ad click-attributed purchases for promoted products.|\n|unitsSold14d|Ad click-attributed units sold for promoted products.|\n|attributedSales14d|Ad click-attributed sales for promoted products in local currency.|\n|attributedTotalDetailPageViewsClicks14d|Ad click-attributed detail page views  for promoted products plus brand halo products.|\n|attributedTotalAddToCartClicks14d|Ad click-attributed add to carts for promoted products plus brand halo products.|\n|attributedTotalPurchases14d|Ad click-attributed purchases for promoted products plus brand halo products.|\n|totalUnitsSold14d|Ad click-attributed units sold for promoted products plus brand halo products.|\n|totalAttributedSales14d|Ad click-attributed attributed sales for promoted products plus brand halo products.|\n|brb_bonus_amount|Estimated ad-attributed Brand Referral Bonus credit amount in local currency. Will be omitted from response if advertiser is not a BRB-enrolled seller or request does not include a ‘metrics’ list. Requests for this metric must groupBy ADGROUP or CAMPAIGN, or will result in an error 400. Please refer to <https://sellercentral.amazon.com/gp/help/external/L9HPJ34VBFP76HX> to learn more about BRB program.|\n|kindleEditionNormalizedPagesRead14d| Number of attributed Kindle edition pages read within 14 days of ad click.|\n|kindleEditionNormalizedPagesRoyalties14d|The estimated royalties of attributed estimated Kindle edition normalized pages within 14 days of ad click.|\n\n|Metrics for reportType`PRODUCTS`|\n|-------------------|\n\n|Metric  |Description|\n|--------|-----------|\n|attributedDetailPageViewsClicks14d|Ad click-attributed detail page views for promoted products.|\n|attributedAddToCartClicks14d|Ad click-attributed add to carts for promoted products.|\n|attributedPurchases14d|Ad click-attributed purchases for promoted products.|\n|unitsSold14d|Ad click-attributed units sold for promoted products.|\n|attributedSales14d|Ad click-attributed sales for promoted products in local currency.|\n|brandHaloDetailPageViewsClicks14d|Ad click-attributed detail page views for brand halo products.|\n|brandHaloAttributedAddToCartClicks14d|Ad click-attributed add to carts for brand halo products.|\n|brandHaloAttributedPurchases14d|Ad click-attributed purchases for brand halo products.|\n|brandHaloUnitsSold14d|Ad click-attributed units sold for brand halo products.|\n|brandHaloAttributedSales14d|Ad click-attributed attributed sales for brand halo products.|\n|attributedNewToBrandPurchases14d|Ad click-attributed new-to-brand purchases for promoted products. A purchase is new-to-brand when a shopper purchases a product from the brand for the first time in the past year.|\n|attributedNewToBrandUnitsSold14d|Ad click-attributed units sold in new-to-brand purchases for promoted products. A purchase is new-to-brand when a shopper purchases a product from the brand for the first time in the past year.|\n|attributedNewToBrandSales14d|Ad click-attributed sales of new-to-brand purchases for promoted products in local currency. A purchase is new-to-brand when a shopper purchases a product from the brand for the first time in the past year.|\n|brandHaloNewToBrandPurchases14d|Ad click-attributed new-to-brand purchases for brand halo products. A purchase is new-to-brand when a shopper purchases a product from the brand for the first time in the past year.|\n|brandHaloNewToBrandUnitsSold14d|Ad click-attributed units sold in new-to-brand purchases for brand halo products. A purchase is new-to-brand when a shopper purchases a product from the brand for the first time in the past year.|\n|brandHaloNewToBrandSales14d|Ad click-attributed sales of new-to-brand purchases for brand halo products in local currency. A purchase is new-to-brand when a shopper purchases a product from the brand for the first time in the past year.|\n|kindleEditionNormalizedPagesRead14d| The no of pages read attributed to ad click-throughs within 14 days.|\n|kindleEditionNormalizedPagesRoyalties14d|The estimated royalties of attributed estimated Kindle edition normalized pages within 14 days of ad click.|","type":"string"},"reportType":{"description":"The type of report. Either `PERFORMANCE` or `PRODUCTS`. It is an optional parameter. If not used in request body, default reportType is `PERFORMANCE`.","type":"string"},"startDate":{"description":"The start date for the report, in \"YYYYMMDD\" format. For reportType `PRODUCTS`, startDate can only be within last 90 days from current date.","type":"string"}},"type":"object"},"advertiser":{"properties":{"advertiserId":{"type":"string"},"advertiserName":{"type":"string"}},"type":"object"},"PublishersResponse":{"properties":{"publisher":{"description":"A list of publishers.","items":{"$ref":"#/components/schemas/Publisher"},"type":"array"}},"type":"object"},"Publisher":{"properties":{"id":{"allOf":[{"description":"The identifier of a macro publisher.","type":"string","x-amazon-advertising-package":"MaaSPublicAPIAPISwagger"},{"description":"The identifier of a publisher that does not support macros.","type":"string","x-amazon-advertising-package":"MaaSPublicAPIAPISwagger"}],"description":"The identifier of a publisher.","type":"object"},"macroEnabled":{"description":"Set to 'true' if Amazon Attribution provides macro tags for the given publisher.","type":"boolean"},"name":{"description":"The name of the publisher.","type":"string"}},"type":"object"},"MaaSError":{"description":"The error response object.","properties":{"code":{"description":"The HTTP status code of the response. Possible value of code is \"200\", \"207\", \"400\", \"401\", \"429\", \"403\", or \"500\".","type":"string"},"details":{"description":"A human-readable description of the response.","type":"string"}},"type":"object"},"AttributionTagResponse":{"properties":{"advertiserAttributionTagMap":{"additionalProperties":{"$ref":"#/components/schemas/attributionTagMap"},"description":"A list of advertisers and associated attribution tags.","example":{"advertiserA":{"1":"tag1A","2":"tag2A"},"advertiserB":{"1":"tag2B","2":"tag2B"}},"type":"object"}},"type":"object"},"ReportResponse":{"properties":{"cursorId":{"description":"The identifier of the pagination cursor.","type":"string"},"reports":{"items":{"$ref":"#/components/schemas/ReportEntry"},"type":"array"},"size":{"description":"The size of the report.","type":"integer"}},"type":"object"},"AdvertiserResponse":{"properties":{"advertisers":{"items":{"$ref":"#/components/schemas/advertiser"},"type":"array"}},"type":"object"}},"responses":{},"parameters":{},"examples":{},"requestBodies":{},"headers":{},"securitySchemes":{},"links":{},"callbacks":{}}}